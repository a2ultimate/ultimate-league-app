{% extends 'layout/layout_user.html' %}

{% load games %}
{% load leagues %}
{% load staticfiles %}
{% load utility %}

{% block content %}

  {% include 'layout/account_tabs.html' with selected_tab='junta' %}

  {% if leagues %}
    <h1>Game Reports</h1>

    {% include '_partials/league_list.html' with leagues=leagues link_view='gamereports_league' only %}

  {% elif game_report %}
    {% include 'layout/league_header.html' with league=league header='Game Reports' only %}

    <h4>Game Report for {{ game_report.team }}</h4>

    {% for game_report_comment in game_report.gamereportcomment_set.all %}
      <dl>
        <dt>Submitter</dt>
        <dd>{{ game_report_comment.submitted_by }}</dd>
        <dt>Spirit</dt>
        <dd>{{ game_report_comment.spirit }}</dd>
        <dt>Comment</dt>
        <dd>{{ game_report_comment.comment|default:'<em>None</em>' }}</dd>
      </dl>
    {% endfor %}

  {% else %}
    {% include 'layout/league_header.html' with league=league header='Game Reports' only %}

    {% if game_dates|length %}
      {% include '_partials/schedule_table.html' with league=league columns=game_locations game_dates=game_dates user_games=user_games next_game_date=next_game_date link_game_report=1 only %}
    {% else %}
      <h4>
        Schedules are not yet available
      </h4>
    {% endif %}

  {% endif %}

{% endblock %}
